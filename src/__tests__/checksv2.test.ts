/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { expect, test } from "vitest";
import { Vercel } from "../index.js";
import { createTestHTTPClient } from "./testclient.js";

test("Checks V2 List Project Checks", async () => {
  const testHttpClient = createTestHTTPClient("listProjectChecks");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.listProjectChecks({
    projectIdOrName: "<value>",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    checks: [
      {
        id: "<id>",
        name: "<value>",
        ownerId: "<id>",
        projectId: "<id>",
        isRerequestable: false,
        requires: "none",
        source: {
          kind: "git-provider",
          provider: "gitlab",
          externalCheckName: "<value>",
        },
        blocks: "deployment-alias",
        targets: [
          "<value 1>",
          "<value 2>",
          "<value 3>",
        ],
        sourceKind: "integration",
        timeout: 7907.15,
        createdAt: 8323.07,
        updatedAt: 2126.19,
      },
    ],
  });
});

test("Checks V2 Create Project Check", async () => {
  const testHttpClient = createTestHTTPClient("createProjectCheck");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.createProjectCheck({
    projectIdOrName: "<value>",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    id: "<id>",
    name: "<value>",
    ownerId: "<id>",
    projectId: "<id>",
    isRerequestable: false,
    requires: "none",
    source: {
      kind: "git-provider",
      provider: "github",
      externalCheckName: "<value>",
    },
    blocks: "build-start",
    targets: [
      "<value 1>",
      "<value 2>",
    ],
    sourceKind: "webhook",
    timeout: 3857.24,
    createdAt: 8346.78,
    updatedAt: 5501.55,
  });
});

test("Checks V2 Get Project Check", async () => {
  const testHttpClient = createTestHTTPClient("getProjectCheck");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.getProjectCheck({
    projectIdOrName: "<value>",
    checkId: "stf_89ha9sdhh9a9",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    id: "<id>",
    name: "<value>",
    ownerId: "<id>",
    projectId: "<id>",
    isRerequestable: false,
    requires: "deployment-url",
    source: {
      kind: "integration",
      integrationId: "<id>",
      integrationConfigurationId: "<id>",
    },
    blocks: "deployment-promotion",
    targets: [
      "<value 1>",
      "<value 2>",
    ],
    sourceKind: "integration",
    timeout: 371.16,
    createdAt: 1812.63,
    updatedAt: 2669.44,
  });
});

test("Checks V2 Update Project Check", async () => {
  const testHttpClient = createTestHTTPClient("updateProjectCheck");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.updateProjectCheck({
    projectIdOrName: "<value>",
    checkId: "<id>",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    id: "<id>",
    name: "<value>",
    ownerId: "<id>",
    projectId: "<id>",
    isRerequestable: false,
    requires: "none",
    source: {
      kind: "webhook",
    },
    blocks: "deployment-start",
    targets: [
      "<value 1>",
    ],
    sourceKind: "integration",
    timeout: 6604.77,
    createdAt: 6849.47,
    updatedAt: 1044.45,
  });
});

test("Checks V2 Delete Project Check", async () => {
  const testHttpClient = createTestHTTPClient("deleteProjectCheck");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.deleteProjectCheck({
    projectIdOrName: "<value>",
    checkId: "<id>",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    success: true,
  });
});

test("Checks V2 List Check Runs", async () => {
  const testHttpClient = createTestHTTPClient("listCheckRuns");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.listCheckRuns({
    projectIdOrName: "<value>",
    checkId: "ckr_89ha9sdhh9a9",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    runs: [
      {
        id: "<id>",
        name: "<value>",
        checkId: "<id>",
        ownerId: "<id>",
        deploymentId: "<id>",
        source: {
          kind: "git-provider",
          provider: "gitlab",
          externalCheckName: "<value>",
        },
        status: "running",
        timeout: 2183.78,
        createdAt: 8028.57,
        updatedAt: 5968.89,
      },
    ],
  });
});

test("Checks V2 List Deployment Check Runs", async () => {
  const testHttpClient = createTestHTTPClient("listDeploymentCheckRuns");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.listDeploymentCheckRuns({
    deploymentId: "<id>",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    runs: [],
  });
});

test("Checks V2 Create Deployment Check Run", async () => {
  const testHttpClient = createTestHTTPClient("createDeploymentCheckRun");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.createDeploymentCheckRun({
    deploymentId: "<id>",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    id: "<id>",
    name: "<value>",
    checkId: "<id>",
    ownerId: "<id>",
    deploymentId: "<id>",
    source: {
      kind: "git-provider",
      provider: "gitlab",
      externalCheckName: "<value>",
    },
    status: "queued",
    timeout: 900.28,
    createdAt: 917.6,
    updatedAt: 853.91,
  });
});

test("Checks V2 Get Deployment Check Run", async () => {
  const testHttpClient = createTestHTTPClient("getDeploymentCheckRun");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.getDeploymentCheckRun({
    deploymentId: "<id>",
    checkRunId: "ckr_89ha9sdhh9a9",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    id: "<id>",
    name: "<value>",
    checkId: "<id>",
    ownerId: "<id>",
    deploymentId: "<id>",
    source: {
      kind: "integration",
      integrationId: "<id>",
      integrationConfigurationId: "<id>",
    },
    status: "running",
    timeout: 9092.1,
    createdAt: 1450.24,
    updatedAt: 966.92,
  });
});

test("Checks V2 Update Deployment Check Run", async () => {
  const testHttpClient = createTestHTTPClient("updateDeploymentCheckRun");

  const vercel = new Vercel({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerToken: "<YOUR_BEARER_TOKEN_HERE>",
  });

  const result = await vercel.checksV2.updateDeploymentCheckRun({
    deploymentId: "<id>",
    checkRunId: "<id>",
    teamId: "team_1a2b3c4d5e6f7g8h9i0j1k2l",
    slug: "my-team-url-slug",
  });
  expect(result).toBeDefined();
  expect(result).toEqual({
    id: "<id>",
    name: "<value>",
    checkId: "<id>",
    ownerId: "<id>",
    deploymentId: "<id>",
    source: {
      kind: "integration",
      integrationId: "<id>",
      integrationConfigurationId: "<id>",
    },
    status: "running",
    timeout: 49.19,
    createdAt: 3033.31,
    updatedAt: 5693.16,
  });
});
