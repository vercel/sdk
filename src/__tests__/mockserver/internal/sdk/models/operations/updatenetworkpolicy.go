// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package operations

import (
	"encoding/json"
	"fmt"
	"mockserver/internal/sdk/models/components"
)

// Mode - The network access policy mode. Use \"allow-all\" to permit all outbound traffic. Use \"deny-all\" to block all outbound traffic. Use \"custom\" to specify explicit allow/deny rules.
type Mode string

const (
	ModeAllowAll     Mode = "allow-all"
	ModeDenyAll      Mode = "deny-all"
	ModeCustom       Mode = "custom"
	ModeDefaultAllow Mode = "default-allow"
	ModeDefaultDeny  Mode = "default-deny"
)

func (e Mode) ToPointer() *Mode {
	return &e
}
func (e *Mode) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "allow-all":
		fallthrough
	case "deny-all":
		fallthrough
	case "custom":
		fallthrough
	case "default-allow":
		fallthrough
	case "default-deny":
		*e = Mode(v)
		return nil
	default:
		return fmt.Errorf("invalid value for Mode: %v", v)
	}
}

// UpdateNetworkPolicyRequestBody - Network access policy for the sandbox.\n    Controls which external hosts the sandbox can communicate with.\n    Use \"allow-all\" mode to allow all traffic, \"deny-all\" to block all traffic or \"custom\" to provide specific rules.
type UpdateNetworkPolicyRequestBody struct {
	// The network access policy mode. Use \"allow-all\" to permit all outbound traffic. Use \"deny-all\" to block all outbound traffic. Use \"custom\" to specify explicit allow/deny rules.
	Mode Mode `json:"mode"`
	// List of domain names the sandbox is allowed to connect to. Only applies when mode is \"custom\". Supports wildcard patterns (e.g., \"*.example.com\" matches all subdomains).
	AllowedDomains []string `json:"allowedDomains,omitempty"`
	// List of IP address ranges (in CIDR notation) the sandbox is allowed to connect to. Traffic to these addresses bypasses domain-based restrictions.
	AllowedCIDRs []string `json:"allowedCIDRs,omitempty"`
	// List of IP address ranges (in CIDR notation) the sandbox is blocked from connecting to. These rules take precedence over all allowed rules.
	DeniedCIDRs []string `json:"deniedCIDRs,omitempty"`
}

func (o *UpdateNetworkPolicyRequestBody) GetMode() Mode {
	if o == nil {
		return Mode("")
	}
	return o.Mode
}

func (o *UpdateNetworkPolicyRequestBody) GetAllowedDomains() []string {
	if o == nil {
		return nil
	}
	return o.AllowedDomains
}

func (o *UpdateNetworkPolicyRequestBody) GetAllowedCIDRs() []string {
	if o == nil {
		return nil
	}
	return o.AllowedCIDRs
}

func (o *UpdateNetworkPolicyRequestBody) GetDeniedCIDRs() []string {
	if o == nil {
		return nil
	}
	return o.DeniedCIDRs
}

type UpdateNetworkPolicyRequest struct {
	// The unique identifier of the sandbox to update the network policy for.
	SandboxID string `pathParam:"style=simple,explode=false,name=sandboxId"`
	// The Team identifier to perform the request on behalf of.
	TeamID *string `queryParam:"style=form,explode=true,name=teamId"`
	// The Team slug to perform the request on behalf of.
	Slug *string                         `queryParam:"style=form,explode=true,name=slug"`
	Body *UpdateNetworkPolicyRequestBody `request:"mediaType=application/json"`
}

func (o *UpdateNetworkPolicyRequest) GetSandboxID() string {
	if o == nil {
		return ""
	}
	return o.SandboxID
}

func (o *UpdateNetworkPolicyRequest) GetTeamID() *string {
	if o == nil {
		return nil
	}
	return o.TeamID
}

func (o *UpdateNetworkPolicyRequest) GetSlug() *string {
	if o == nil {
		return nil
	}
	return o.Slug
}

func (o *UpdateNetworkPolicyRequest) GetBody() *UpdateNetworkPolicyRequestBody {
	if o == nil {
		return nil
	}
	return o.Body
}

// UpdateNetworkPolicyResponseBody - The sandbox network policy was updated successfully.
type UpdateNetworkPolicyResponseBody struct {
	// This object contains information related to a Vercel Sandbox.
	Sandbox components.Sandbox `json:"sandbox"`
}

func (o *UpdateNetworkPolicyResponseBody) GetSandbox() components.Sandbox {
	if o == nil {
		return components.Sandbox{}
	}
	return o.Sandbox
}

type UpdateNetworkPolicyResponse struct {
	HTTPMeta components.HTTPMetadata `json:"-"`
	// The sandbox network policy was updated successfully.
	Object *UpdateNetworkPolicyResponseBody
}

func (o *UpdateNetworkPolicyResponse) GetHTTPMeta() components.HTTPMetadata {
	if o == nil {
		return components.HTTPMetadata{}
	}
	return o.HTTPMeta
}

func (o *UpdateNetworkPolicyResponse) GetObject() *UpdateNetworkPolicyResponseBody {
	if o == nil {
		return nil
	}
	return o.Object
}
