/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { bulkRedirectsRestoreRedirects } from "../../funcs/bulkRedirectsRestoreRedirects.js";
import { RestoreRedirectsRequest$inboundSchema } from "../../models/restoreredirectsop.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: RestoreRedirectsRequest$inboundSchema,
};

export const tool$bulkRedirectsRestoreRedirects: ToolDefinition<typeof args> = {
  name: "bulk-redirects-restore-redirects",
  description:
    `Restore staged project-level redirects to their production version.

Restores the provided redirects in the staging version to the value in the production version. If no production version exists, removes the redirects from staging.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await bulkRedirectsRestoreRedirects(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
