/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./sdkvalidationerror.js";

export type CreateDeploymentCheckRunRequestBody = {
  checkId: string;
};

export type CreateDeploymentCheckRunRequest = {
  deploymentId: string;
  /**
   * The Team identifier to perform the request on behalf of.
   */
  teamId?: string | undefined;
  /**
   * The Team slug to perform the request on behalf of.
   */
  slug?: string | undefined;
  requestBody?: CreateDeploymentCheckRunRequestBody | undefined;
};

export const CreateDeploymentCheckRunSourceProvider = {
  Github: "github",
  Gitlab: "gitlab",
  Bitbucket: "bitbucket",
} as const;
export type CreateDeploymentCheckRunSourceProvider = ClosedEnum<
  typeof CreateDeploymentCheckRunSourceProvider
>;

export type CreateDeploymentCheckRunSource3 = {
  kind: "git-provider";
  provider: CreateDeploymentCheckRunSourceProvider;
  externalCheckName: string;
};

export type CreateDeploymentCheckRunSource2 = {
  kind: "webhook";
  webhookId?: string | undefined;
};

export type CreateDeploymentCheckRunSource1 = {
  kind: "integration";
  integrationId: string;
  integrationConfigurationId: string;
  resourceId?: string | undefined;
  externalResourceId?: string | undefined;
};

export type CreateDeploymentCheckRunSource =
  | CreateDeploymentCheckRunSource1
  | CreateDeploymentCheckRunSource2
  | CreateDeploymentCheckRunSource3;

export const CreateDeploymentCheckRunRequires = {
  BuildReady: "build-ready",
  DeploymentUrl: "deployment-url",
  None: "none",
} as const;
export type CreateDeploymentCheckRunRequires = ClosedEnum<
  typeof CreateDeploymentCheckRunRequires
>;

export const CreateDeploymentCheckRunBlocks = {
  None: "none",
  BuildStart: "build-start",
  DeploymentStart: "deployment-start",
  DeploymentAlias: "deployment-alias",
  DeploymentPromotion: "deployment-promotion",
} as const;
export type CreateDeploymentCheckRunBlocks = ClosedEnum<
  typeof CreateDeploymentCheckRunBlocks
>;

export const CreateDeploymentCheckRunStatus = {
  Queued: "queued",
  Running: "running",
  Completed: "completed",
} as const;
export type CreateDeploymentCheckRunStatus = ClosedEnum<
  typeof CreateDeploymentCheckRunStatus
>;

export const CreateDeploymentCheckRunConclusion = {
  Timeout: "timeout",
  Canceled: "canceled",
  Skipped: "skipped",
  Failed: "failed",
  Neutral: "neutral",
  Succeeded: "succeeded",
} as const;
export type CreateDeploymentCheckRunConclusion = ClosedEnum<
  typeof CreateDeploymentCheckRunConclusion
>;

export type CreateDeploymentCheckRunResponseBody = {
  id: string;
  name: string;
  checkId: string;
  ownerId: string;
  deploymentId: string;
  projectId?: string | undefined;
  source:
    | CreateDeploymentCheckRunSource1
    | CreateDeploymentCheckRunSource2
    | CreateDeploymentCheckRunSource3;
  requires?: CreateDeploymentCheckRunRequires | undefined;
  blocks?: CreateDeploymentCheckRunBlocks | undefined;
  targets?: Array<string> | undefined;
  status: CreateDeploymentCheckRunStatus;
  conclusion?: CreateDeploymentCheckRunConclusion | undefined;
  conclusionText?: string | undefined;
  externalId?: string | undefined;
  externalUrl?: string | undefined;
  output?: { [k: string]: any } | undefined;
  timeout: number;
  createdAt: number;
  updatedAt: number;
  completedAt?: number | undefined;
};

/** @internal */
export const CreateDeploymentCheckRunRequestBody$inboundSchema: z.ZodType<
  CreateDeploymentCheckRunRequestBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  checkId: types.string(),
});
/** @internal */
export type CreateDeploymentCheckRunRequestBody$Outbound = {
  checkId: string;
};

/** @internal */
export const CreateDeploymentCheckRunRequestBody$outboundSchema: z.ZodType<
  CreateDeploymentCheckRunRequestBody$Outbound,
  z.ZodTypeDef,
  CreateDeploymentCheckRunRequestBody
> = z.object({
  checkId: z.string(),
});

export function createDeploymentCheckRunRequestBodyToJSON(
  createDeploymentCheckRunRequestBody: CreateDeploymentCheckRunRequestBody,
): string {
  return JSON.stringify(
    CreateDeploymentCheckRunRequestBody$outboundSchema.parse(
      createDeploymentCheckRunRequestBody,
    ),
  );
}
export function createDeploymentCheckRunRequestBodyFromJSON(
  jsonString: string,
): SafeParseResult<CreateDeploymentCheckRunRequestBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      CreateDeploymentCheckRunRequestBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateDeploymentCheckRunRequestBody' from JSON`,
  );
}

/** @internal */
export const CreateDeploymentCheckRunRequest$inboundSchema: z.ZodType<
  CreateDeploymentCheckRunRequest,
  z.ZodTypeDef,
  unknown
> = z.object({
  deploymentId: types.string(),
  teamId: types.optional(types.string()),
  slug: types.optional(types.string()),
  RequestBody: types.optional(
    z.lazy(() => CreateDeploymentCheckRunRequestBody$inboundSchema),
  ),
}).transform((v) => {
  return remap$(v, {
    "RequestBody": "requestBody",
  });
});
/** @internal */
export type CreateDeploymentCheckRunRequest$Outbound = {
  deploymentId: string;
  teamId?: string | undefined;
  slug?: string | undefined;
  RequestBody?: CreateDeploymentCheckRunRequestBody$Outbound | undefined;
};

/** @internal */
export const CreateDeploymentCheckRunRequest$outboundSchema: z.ZodType<
  CreateDeploymentCheckRunRequest$Outbound,
  z.ZodTypeDef,
  CreateDeploymentCheckRunRequest
> = z.object({
  deploymentId: z.string(),
  teamId: z.string().optional(),
  slug: z.string().optional(),
  requestBody: z.lazy(() => CreateDeploymentCheckRunRequestBody$outboundSchema)
    .optional(),
}).transform((v) => {
  return remap$(v, {
    requestBody: "RequestBody",
  });
});

export function createDeploymentCheckRunRequestToJSON(
  createDeploymentCheckRunRequest: CreateDeploymentCheckRunRequest,
): string {
  return JSON.stringify(
    CreateDeploymentCheckRunRequest$outboundSchema.parse(
      createDeploymentCheckRunRequest,
    ),
  );
}
export function createDeploymentCheckRunRequestFromJSON(
  jsonString: string,
): SafeParseResult<CreateDeploymentCheckRunRequest, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateDeploymentCheckRunRequest$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateDeploymentCheckRunRequest' from JSON`,
  );
}

/** @internal */
export const CreateDeploymentCheckRunSourceProvider$inboundSchema:
  z.ZodNativeEnum<typeof CreateDeploymentCheckRunSourceProvider> = z.nativeEnum(
    CreateDeploymentCheckRunSourceProvider,
  );
/** @internal */
export const CreateDeploymentCheckRunSourceProvider$outboundSchema:
  z.ZodNativeEnum<typeof CreateDeploymentCheckRunSourceProvider> =
    CreateDeploymentCheckRunSourceProvider$inboundSchema;

/** @internal */
export const CreateDeploymentCheckRunSource3$inboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource3,
  z.ZodTypeDef,
  unknown
> = z.object({
  kind: types.literal("git-provider"),
  provider: CreateDeploymentCheckRunSourceProvider$inboundSchema,
  externalCheckName: types.string(),
});
/** @internal */
export type CreateDeploymentCheckRunSource3$Outbound = {
  kind: "git-provider";
  provider: string;
  externalCheckName: string;
};

/** @internal */
export const CreateDeploymentCheckRunSource3$outboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource3$Outbound,
  z.ZodTypeDef,
  CreateDeploymentCheckRunSource3
> = z.object({
  kind: z.literal("git-provider"),
  provider: CreateDeploymentCheckRunSourceProvider$outboundSchema,
  externalCheckName: z.string(),
});

export function createDeploymentCheckRunSource3ToJSON(
  createDeploymentCheckRunSource3: CreateDeploymentCheckRunSource3,
): string {
  return JSON.stringify(
    CreateDeploymentCheckRunSource3$outboundSchema.parse(
      createDeploymentCheckRunSource3,
    ),
  );
}
export function createDeploymentCheckRunSource3FromJSON(
  jsonString: string,
): SafeParseResult<CreateDeploymentCheckRunSource3, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateDeploymentCheckRunSource3$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateDeploymentCheckRunSource3' from JSON`,
  );
}

/** @internal */
export const CreateDeploymentCheckRunSource2$inboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource2,
  z.ZodTypeDef,
  unknown
> = z.object({
  kind: types.literal("webhook"),
  webhookId: types.optional(types.string()),
});
/** @internal */
export type CreateDeploymentCheckRunSource2$Outbound = {
  kind: "webhook";
  webhookId?: string | undefined;
};

/** @internal */
export const CreateDeploymentCheckRunSource2$outboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource2$Outbound,
  z.ZodTypeDef,
  CreateDeploymentCheckRunSource2
> = z.object({
  kind: z.literal("webhook"),
  webhookId: z.string().optional(),
});

export function createDeploymentCheckRunSource2ToJSON(
  createDeploymentCheckRunSource2: CreateDeploymentCheckRunSource2,
): string {
  return JSON.stringify(
    CreateDeploymentCheckRunSource2$outboundSchema.parse(
      createDeploymentCheckRunSource2,
    ),
  );
}
export function createDeploymentCheckRunSource2FromJSON(
  jsonString: string,
): SafeParseResult<CreateDeploymentCheckRunSource2, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateDeploymentCheckRunSource2$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateDeploymentCheckRunSource2' from JSON`,
  );
}

/** @internal */
export const CreateDeploymentCheckRunSource1$inboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource1,
  z.ZodTypeDef,
  unknown
> = z.object({
  kind: types.literal("integration"),
  integrationId: types.string(),
  integrationConfigurationId: types.string(),
  resourceId: types.optional(types.string()),
  externalResourceId: types.optional(types.string()),
});
/** @internal */
export type CreateDeploymentCheckRunSource1$Outbound = {
  kind: "integration";
  integrationId: string;
  integrationConfigurationId: string;
  resourceId?: string | undefined;
  externalResourceId?: string | undefined;
};

/** @internal */
export const CreateDeploymentCheckRunSource1$outboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource1$Outbound,
  z.ZodTypeDef,
  CreateDeploymentCheckRunSource1
> = z.object({
  kind: z.literal("integration"),
  integrationId: z.string(),
  integrationConfigurationId: z.string(),
  resourceId: z.string().optional(),
  externalResourceId: z.string().optional(),
});

export function createDeploymentCheckRunSource1ToJSON(
  createDeploymentCheckRunSource1: CreateDeploymentCheckRunSource1,
): string {
  return JSON.stringify(
    CreateDeploymentCheckRunSource1$outboundSchema.parse(
      createDeploymentCheckRunSource1,
    ),
  );
}
export function createDeploymentCheckRunSource1FromJSON(
  jsonString: string,
): SafeParseResult<CreateDeploymentCheckRunSource1, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateDeploymentCheckRunSource1$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateDeploymentCheckRunSource1' from JSON`,
  );
}

/** @internal */
export const CreateDeploymentCheckRunSource$inboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource,
  z.ZodTypeDef,
  unknown
> = z.union([
  z.lazy(() => CreateDeploymentCheckRunSource1$inboundSchema),
  z.lazy(() => CreateDeploymentCheckRunSource2$inboundSchema),
  z.lazy(() => CreateDeploymentCheckRunSource3$inboundSchema),
]);
/** @internal */
export type CreateDeploymentCheckRunSource$Outbound =
  | CreateDeploymentCheckRunSource1$Outbound
  | CreateDeploymentCheckRunSource2$Outbound
  | CreateDeploymentCheckRunSource3$Outbound;

/** @internal */
export const CreateDeploymentCheckRunSource$outboundSchema: z.ZodType<
  CreateDeploymentCheckRunSource$Outbound,
  z.ZodTypeDef,
  CreateDeploymentCheckRunSource
> = z.union([
  z.lazy(() => CreateDeploymentCheckRunSource1$outboundSchema),
  z.lazy(() => CreateDeploymentCheckRunSource2$outboundSchema),
  z.lazy(() => CreateDeploymentCheckRunSource3$outboundSchema),
]);

export function createDeploymentCheckRunSourceToJSON(
  createDeploymentCheckRunSource: CreateDeploymentCheckRunSource,
): string {
  return JSON.stringify(
    CreateDeploymentCheckRunSource$outboundSchema.parse(
      createDeploymentCheckRunSource,
    ),
  );
}
export function createDeploymentCheckRunSourceFromJSON(
  jsonString: string,
): SafeParseResult<CreateDeploymentCheckRunSource, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CreateDeploymentCheckRunSource$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateDeploymentCheckRunSource' from JSON`,
  );
}

/** @internal */
export const CreateDeploymentCheckRunRequires$inboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunRequires
> = z.nativeEnum(CreateDeploymentCheckRunRequires);
/** @internal */
export const CreateDeploymentCheckRunRequires$outboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunRequires
> = CreateDeploymentCheckRunRequires$inboundSchema;

/** @internal */
export const CreateDeploymentCheckRunBlocks$inboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunBlocks
> = z.nativeEnum(CreateDeploymentCheckRunBlocks);
/** @internal */
export const CreateDeploymentCheckRunBlocks$outboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunBlocks
> = CreateDeploymentCheckRunBlocks$inboundSchema;

/** @internal */
export const CreateDeploymentCheckRunStatus$inboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunStatus
> = z.nativeEnum(CreateDeploymentCheckRunStatus);
/** @internal */
export const CreateDeploymentCheckRunStatus$outboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunStatus
> = CreateDeploymentCheckRunStatus$inboundSchema;

/** @internal */
export const CreateDeploymentCheckRunConclusion$inboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunConclusion
> = z.nativeEnum(CreateDeploymentCheckRunConclusion);
/** @internal */
export const CreateDeploymentCheckRunConclusion$outboundSchema: z.ZodNativeEnum<
  typeof CreateDeploymentCheckRunConclusion
> = CreateDeploymentCheckRunConclusion$inboundSchema;

/** @internal */
export const CreateDeploymentCheckRunResponseBody$inboundSchema: z.ZodType<
  CreateDeploymentCheckRunResponseBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: types.string(),
  name: types.string(),
  checkId: types.string(),
  ownerId: types.string(),
  deploymentId: types.string(),
  projectId: types.optional(types.string()),
  source: z.union([
    z.lazy(() => CreateDeploymentCheckRunSource1$inboundSchema),
    z.lazy(() => CreateDeploymentCheckRunSource2$inboundSchema),
    z.lazy(() => CreateDeploymentCheckRunSource3$inboundSchema),
  ]),
  requires: types.optional(CreateDeploymentCheckRunRequires$inboundSchema),
  blocks: types.optional(CreateDeploymentCheckRunBlocks$inboundSchema),
  targets: types.optional(z.array(types.string())),
  status: CreateDeploymentCheckRunStatus$inboundSchema,
  conclusion: types.optional(CreateDeploymentCheckRunConclusion$inboundSchema),
  conclusionText: types.optional(types.string()),
  externalId: types.optional(types.string()),
  externalUrl: types.optional(types.string()),
  output: types.optional(z.record(z.any())),
  timeout: types.number(),
  createdAt: types.number(),
  updatedAt: types.number(),
  completedAt: types.optional(types.number()),
});
/** @internal */
export type CreateDeploymentCheckRunResponseBody$Outbound = {
  id: string;
  name: string;
  checkId: string;
  ownerId: string;
  deploymentId: string;
  projectId?: string | undefined;
  source:
    | CreateDeploymentCheckRunSource1$Outbound
    | CreateDeploymentCheckRunSource2$Outbound
    | CreateDeploymentCheckRunSource3$Outbound;
  requires?: string | undefined;
  blocks?: string | undefined;
  targets?: Array<string> | undefined;
  status: string;
  conclusion?: string | undefined;
  conclusionText?: string | undefined;
  externalId?: string | undefined;
  externalUrl?: string | undefined;
  output?: { [k: string]: any } | undefined;
  timeout: number;
  createdAt: number;
  updatedAt: number;
  completedAt?: number | undefined;
};

/** @internal */
export const CreateDeploymentCheckRunResponseBody$outboundSchema: z.ZodType<
  CreateDeploymentCheckRunResponseBody$Outbound,
  z.ZodTypeDef,
  CreateDeploymentCheckRunResponseBody
> = z.object({
  id: z.string(),
  name: z.string(),
  checkId: z.string(),
  ownerId: z.string(),
  deploymentId: z.string(),
  projectId: z.string().optional(),
  source: z.union([
    z.lazy(() => CreateDeploymentCheckRunSource1$outboundSchema),
    z.lazy(() => CreateDeploymentCheckRunSource2$outboundSchema),
    z.lazy(() => CreateDeploymentCheckRunSource3$outboundSchema),
  ]),
  requires: CreateDeploymentCheckRunRequires$outboundSchema.optional(),
  blocks: CreateDeploymentCheckRunBlocks$outboundSchema.optional(),
  targets: z.array(z.string()).optional(),
  status: CreateDeploymentCheckRunStatus$outboundSchema,
  conclusion: CreateDeploymentCheckRunConclusion$outboundSchema.optional(),
  conclusionText: z.string().optional(),
  externalId: z.string().optional(),
  externalUrl: z.string().optional(),
  output: z.record(z.any()).optional(),
  timeout: z.number(),
  createdAt: z.number(),
  updatedAt: z.number(),
  completedAt: z.number().optional(),
});

export function createDeploymentCheckRunResponseBodyToJSON(
  createDeploymentCheckRunResponseBody: CreateDeploymentCheckRunResponseBody,
): string {
  return JSON.stringify(
    CreateDeploymentCheckRunResponseBody$outboundSchema.parse(
      createDeploymentCheckRunResponseBody,
    ),
  );
}
export function createDeploymentCheckRunResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<CreateDeploymentCheckRunResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      CreateDeploymentCheckRunResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateDeploymentCheckRunResponseBody' from JSON`,
  );
}
