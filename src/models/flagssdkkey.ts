/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./sdkvalidationerror.js";

export const FlagsSDKKeyType = {
  Server: "server",
  Mobile: "mobile",
  Client: "client",
} as const;
export type FlagsSDKKeyType = ClosedEnum<typeof FlagsSDKKeyType>;

export type FlagsSDKKey = {
  hashKey: string;
  projectId: string;
  type: FlagsSDKKeyType;
  environment: string;
  createdBy: string;
  createdAt: number;
  updatedAt: number;
  label?: string | undefined;
  deletedAt?: number | undefined;
  /**
   * Cleartext value of the SDK key
   */
  keyValue?: string | undefined;
  /**
   * Cleartext value of the Edge Config token
   */
  tokenValue?: string | undefined;
  /**
   * Connection string for the SDK
   */
  connectionString?: string | undefined;
};

/** @internal */
export const FlagsSDKKeyType$inboundSchema: z.ZodNativeEnum<
  typeof FlagsSDKKeyType
> = z.nativeEnum(FlagsSDKKeyType);
/** @internal */
export const FlagsSDKKeyType$outboundSchema: z.ZodNativeEnum<
  typeof FlagsSDKKeyType
> = FlagsSDKKeyType$inboundSchema;

/** @internal */
export const FlagsSDKKey$inboundSchema: z.ZodType<
  FlagsSDKKey,
  z.ZodTypeDef,
  unknown
> = z.object({
  hashKey: types.string(),
  projectId: types.string(),
  type: FlagsSDKKeyType$inboundSchema,
  environment: types.string(),
  createdBy: types.string(),
  createdAt: types.number(),
  updatedAt: types.number(),
  label: types.optional(types.string()),
  deletedAt: types.optional(types.number()),
  keyValue: types.optional(types.string()),
  tokenValue: types.optional(types.string()),
  connectionString: types.optional(types.string()),
});
/** @internal */
export type FlagsSDKKey$Outbound = {
  hashKey: string;
  projectId: string;
  type: string;
  environment: string;
  createdBy: string;
  createdAt: number;
  updatedAt: number;
  label?: string | undefined;
  deletedAt?: number | undefined;
  keyValue?: string | undefined;
  tokenValue?: string | undefined;
  connectionString?: string | undefined;
};

/** @internal */
export const FlagsSDKKey$outboundSchema: z.ZodType<
  FlagsSDKKey$Outbound,
  z.ZodTypeDef,
  FlagsSDKKey
> = z.object({
  hashKey: z.string(),
  projectId: z.string(),
  type: FlagsSDKKeyType$outboundSchema,
  environment: z.string(),
  createdBy: z.string(),
  createdAt: z.number(),
  updatedAt: z.number(),
  label: z.string().optional(),
  deletedAt: z.number().optional(),
  keyValue: z.string().optional(),
  tokenValue: z.string().optional(),
  connectionString: z.string().optional(),
});

export function flagsSDKKeyToJSON(flagsSDKKey: FlagsSDKKey): string {
  return JSON.stringify(FlagsSDKKey$outboundSchema.parse(flagsSDKKey));
}
export function flagsSDKKeyFromJSON(
  jsonString: string,
): SafeParseResult<FlagsSDKKey, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => FlagsSDKKey$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'FlagsSDKKey' from JSON`,
  );
}
