/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { SDKValidationError } from "./sdkvalidationerror.js";

export type Labels = {
  label: string;
  value: string;
};

export type Attributes = {
  key: string;
  type: string;
  labels?: Array<Labels> | undefined;
};

export type UpdateFlagSettingsEntities = {
  kind: string;
  label: string;
  attributes: Array<Attributes>;
};

export type UpdateFlagSettingsRequestBody = {
  enabled?: boolean | undefined;
  entities?: Array<UpdateFlagSettingsEntities> | undefined;
  /**
   * The environments to sync
   */
  environments?: Array<string> | undefined;
};

export type UpdateFlagSettingsRequest = {
  /**
   * The project id or name
   */
  projectIdOrName: string;
  /**
   * The Team identifier to perform the request on behalf of.
   */
  teamId?: string | undefined;
  /**
   * The Team slug to perform the request on behalf of.
   */
  slug?: string | undefined;
  requestBody?: UpdateFlagSettingsRequestBody | undefined;
};

export const UpdateFlagSettingsTypeName = {
  Settings: "settings",
} as const;
export type UpdateFlagSettingsTypeName = ClosedEnum<
  typeof UpdateFlagSettingsTypeName
>;

export type UpdateFlagSettingsConnections = {
  edgeConfigId: string;
  edgeConfigItemKey: string;
};

export type UpdateFlagSettingsLabels = {
  label: string;
  value: string;
};

export type UpdateFlagSettingsAttributes = {
  key: string;
  type: string;
  labels?: Array<UpdateFlagSettingsLabels> | undefined;
};

export type UpdateFlagSettingsFeatureFlagsEntities = {
  kind: string;
  label: string;
  attributes: Array<UpdateFlagSettingsAttributes>;
};

export type UpdateFlagSettingsMetadata = {
  activeFlagCount: number;
  archivedFlagCount: number;
  segmentCount: number;
  packSizeInBytes: number;
  packRevision?: number | undefined;
  configUpdatedAt?: number | undefined;
};

/**
 * Syncs direct the synchronization of Flags to Edge Configs
 */
export type UpdateFlagSettingsResponseBody = {
  typeName: UpdateFlagSettingsTypeName;
  projectId: string;
  ownerId?: string | undefined;
  enabled: boolean;
  environments: Array<string>;
  connections?: Array<UpdateFlagSettingsConnections> | undefined;
  entities: Array<UpdateFlagSettingsFeatureFlagsEntities>;
  createdAt?: number | undefined;
  updatedAt?: number | undefined;
  metadata: UpdateFlagSettingsMetadata;
};

/** @internal */
export const Labels$inboundSchema: z.ZodType<Labels, z.ZodTypeDef, unknown> = z
  .object({
    label: types.string(),
    value: types.string(),
  });
/** @internal */
export type Labels$Outbound = {
  label: string;
  value: string;
};

/** @internal */
export const Labels$outboundSchema: z.ZodType<
  Labels$Outbound,
  z.ZodTypeDef,
  Labels
> = z.object({
  label: z.string(),
  value: z.string(),
});

export function labelsToJSON(labels: Labels): string {
  return JSON.stringify(Labels$outboundSchema.parse(labels));
}
export function labelsFromJSON(
  jsonString: string,
): SafeParseResult<Labels, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Labels$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Labels' from JSON`,
  );
}

/** @internal */
export const Attributes$inboundSchema: z.ZodType<
  Attributes,
  z.ZodTypeDef,
  unknown
> = z.object({
  key: types.string(),
  type: types.string(),
  labels: types.optional(z.array(z.lazy(() => Labels$inboundSchema))),
});
/** @internal */
export type Attributes$Outbound = {
  key: string;
  type: string;
  labels?: Array<Labels$Outbound> | undefined;
};

/** @internal */
export const Attributes$outboundSchema: z.ZodType<
  Attributes$Outbound,
  z.ZodTypeDef,
  Attributes
> = z.object({
  key: z.string(),
  type: z.string(),
  labels: z.array(z.lazy(() => Labels$outboundSchema)).optional(),
});

export function attributesToJSON(attributes: Attributes): string {
  return JSON.stringify(Attributes$outboundSchema.parse(attributes));
}
export function attributesFromJSON(
  jsonString: string,
): SafeParseResult<Attributes, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Attributes$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Attributes' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsEntities$inboundSchema: z.ZodType<
  UpdateFlagSettingsEntities,
  z.ZodTypeDef,
  unknown
> = z.object({
  kind: types.string(),
  label: types.string(),
  attributes: z.array(z.lazy(() => Attributes$inboundSchema)),
});
/** @internal */
export type UpdateFlagSettingsEntities$Outbound = {
  kind: string;
  label: string;
  attributes: Array<Attributes$Outbound>;
};

/** @internal */
export const UpdateFlagSettingsEntities$outboundSchema: z.ZodType<
  UpdateFlagSettingsEntities$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsEntities
> = z.object({
  kind: z.string(),
  label: z.string(),
  attributes: z.array(z.lazy(() => Attributes$outboundSchema)),
});

export function updateFlagSettingsEntitiesToJSON(
  updateFlagSettingsEntities: UpdateFlagSettingsEntities,
): string {
  return JSON.stringify(
    UpdateFlagSettingsEntities$outboundSchema.parse(updateFlagSettingsEntities),
  );
}
export function updateFlagSettingsEntitiesFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsEntities, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsEntities$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsEntities' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsRequestBody$inboundSchema: z.ZodType<
  UpdateFlagSettingsRequestBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  enabled: types.optional(types.boolean()),
  entities: types.optional(
    z.array(z.lazy(() => UpdateFlagSettingsEntities$inboundSchema)),
  ),
  environments: types.optional(z.array(types.string())),
});
/** @internal */
export type UpdateFlagSettingsRequestBody$Outbound = {
  enabled?: boolean | undefined;
  entities?: Array<UpdateFlagSettingsEntities$Outbound> | undefined;
  environments?: Array<string> | undefined;
};

/** @internal */
export const UpdateFlagSettingsRequestBody$outboundSchema: z.ZodType<
  UpdateFlagSettingsRequestBody$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsRequestBody
> = z.object({
  enabled: z.boolean().optional(),
  entities: z.array(z.lazy(() => UpdateFlagSettingsEntities$outboundSchema))
    .optional(),
  environments: z.array(z.string()).optional(),
});

export function updateFlagSettingsRequestBodyToJSON(
  updateFlagSettingsRequestBody: UpdateFlagSettingsRequestBody,
): string {
  return JSON.stringify(
    UpdateFlagSettingsRequestBody$outboundSchema.parse(
      updateFlagSettingsRequestBody,
    ),
  );
}
export function updateFlagSettingsRequestBodyFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsRequestBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsRequestBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsRequestBody' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsRequest$inboundSchema: z.ZodType<
  UpdateFlagSettingsRequest,
  z.ZodTypeDef,
  unknown
> = z.object({
  projectIdOrName: types.string(),
  teamId: types.optional(types.string()),
  slug: types.optional(types.string()),
  RequestBody: types.optional(
    z.lazy(() => UpdateFlagSettingsRequestBody$inboundSchema),
  ),
}).transform((v) => {
  return remap$(v, {
    "RequestBody": "requestBody",
  });
});
/** @internal */
export type UpdateFlagSettingsRequest$Outbound = {
  projectIdOrName: string;
  teamId?: string | undefined;
  slug?: string | undefined;
  RequestBody?: UpdateFlagSettingsRequestBody$Outbound | undefined;
};

/** @internal */
export const UpdateFlagSettingsRequest$outboundSchema: z.ZodType<
  UpdateFlagSettingsRequest$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsRequest
> = z.object({
  projectIdOrName: z.string(),
  teamId: z.string().optional(),
  slug: z.string().optional(),
  requestBody: z.lazy(() => UpdateFlagSettingsRequestBody$outboundSchema)
    .optional(),
}).transform((v) => {
  return remap$(v, {
    requestBody: "RequestBody",
  });
});

export function updateFlagSettingsRequestToJSON(
  updateFlagSettingsRequest: UpdateFlagSettingsRequest,
): string {
  return JSON.stringify(
    UpdateFlagSettingsRequest$outboundSchema.parse(updateFlagSettingsRequest),
  );
}
export function updateFlagSettingsRequestFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsRequest, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsRequest$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsRequest' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsTypeName$inboundSchema: z.ZodNativeEnum<
  typeof UpdateFlagSettingsTypeName
> = z.nativeEnum(UpdateFlagSettingsTypeName);
/** @internal */
export const UpdateFlagSettingsTypeName$outboundSchema: z.ZodNativeEnum<
  typeof UpdateFlagSettingsTypeName
> = UpdateFlagSettingsTypeName$inboundSchema;

/** @internal */
export const UpdateFlagSettingsConnections$inboundSchema: z.ZodType<
  UpdateFlagSettingsConnections,
  z.ZodTypeDef,
  unknown
> = z.object({
  edgeConfigId: types.string(),
  edgeConfigItemKey: types.string(),
});
/** @internal */
export type UpdateFlagSettingsConnections$Outbound = {
  edgeConfigId: string;
  edgeConfigItemKey: string;
};

/** @internal */
export const UpdateFlagSettingsConnections$outboundSchema: z.ZodType<
  UpdateFlagSettingsConnections$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsConnections
> = z.object({
  edgeConfigId: z.string(),
  edgeConfigItemKey: z.string(),
});

export function updateFlagSettingsConnectionsToJSON(
  updateFlagSettingsConnections: UpdateFlagSettingsConnections,
): string {
  return JSON.stringify(
    UpdateFlagSettingsConnections$outboundSchema.parse(
      updateFlagSettingsConnections,
    ),
  );
}
export function updateFlagSettingsConnectionsFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsConnections, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsConnections$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsConnections' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsLabels$inboundSchema: z.ZodType<
  UpdateFlagSettingsLabels,
  z.ZodTypeDef,
  unknown
> = z.object({
  label: types.string(),
  value: types.string(),
});
/** @internal */
export type UpdateFlagSettingsLabels$Outbound = {
  label: string;
  value: string;
};

/** @internal */
export const UpdateFlagSettingsLabels$outboundSchema: z.ZodType<
  UpdateFlagSettingsLabels$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsLabels
> = z.object({
  label: z.string(),
  value: z.string(),
});

export function updateFlagSettingsLabelsToJSON(
  updateFlagSettingsLabels: UpdateFlagSettingsLabels,
): string {
  return JSON.stringify(
    UpdateFlagSettingsLabels$outboundSchema.parse(updateFlagSettingsLabels),
  );
}
export function updateFlagSettingsLabelsFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsLabels, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsLabels$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsLabels' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsAttributes$inboundSchema: z.ZodType<
  UpdateFlagSettingsAttributes,
  z.ZodTypeDef,
  unknown
> = z.object({
  key: types.string(),
  type: types.string(),
  labels: types.optional(
    z.array(z.lazy(() => UpdateFlagSettingsLabels$inboundSchema)),
  ),
});
/** @internal */
export type UpdateFlagSettingsAttributes$Outbound = {
  key: string;
  type: string;
  labels?: Array<UpdateFlagSettingsLabels$Outbound> | undefined;
};

/** @internal */
export const UpdateFlagSettingsAttributes$outboundSchema: z.ZodType<
  UpdateFlagSettingsAttributes$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsAttributes
> = z.object({
  key: z.string(),
  type: z.string(),
  labels: z.array(z.lazy(() => UpdateFlagSettingsLabels$outboundSchema))
    .optional(),
});

export function updateFlagSettingsAttributesToJSON(
  updateFlagSettingsAttributes: UpdateFlagSettingsAttributes,
): string {
  return JSON.stringify(
    UpdateFlagSettingsAttributes$outboundSchema.parse(
      updateFlagSettingsAttributes,
    ),
  );
}
export function updateFlagSettingsAttributesFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsAttributes, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsAttributes$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsAttributes' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsFeatureFlagsEntities$inboundSchema: z.ZodType<
  UpdateFlagSettingsFeatureFlagsEntities,
  z.ZodTypeDef,
  unknown
> = z.object({
  kind: types.string(),
  label: types.string(),
  attributes: z.array(z.lazy(() => UpdateFlagSettingsAttributes$inboundSchema)),
});
/** @internal */
export type UpdateFlagSettingsFeatureFlagsEntities$Outbound = {
  kind: string;
  label: string;
  attributes: Array<UpdateFlagSettingsAttributes$Outbound>;
};

/** @internal */
export const UpdateFlagSettingsFeatureFlagsEntities$outboundSchema: z.ZodType<
  UpdateFlagSettingsFeatureFlagsEntities$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsFeatureFlagsEntities
> = z.object({
  kind: z.string(),
  label: z.string(),
  attributes: z.array(
    z.lazy(() => UpdateFlagSettingsAttributes$outboundSchema),
  ),
});

export function updateFlagSettingsFeatureFlagsEntitiesToJSON(
  updateFlagSettingsFeatureFlagsEntities:
    UpdateFlagSettingsFeatureFlagsEntities,
): string {
  return JSON.stringify(
    UpdateFlagSettingsFeatureFlagsEntities$outboundSchema.parse(
      updateFlagSettingsFeatureFlagsEntities,
    ),
  );
}
export function updateFlagSettingsFeatureFlagsEntitiesFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsFeatureFlagsEntities, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      UpdateFlagSettingsFeatureFlagsEntities$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsFeatureFlagsEntities' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsMetadata$inboundSchema: z.ZodType<
  UpdateFlagSettingsMetadata,
  z.ZodTypeDef,
  unknown
> = z.object({
  activeFlagCount: types.number(),
  archivedFlagCount: types.number(),
  segmentCount: types.number(),
  packSizeInBytes: types.number(),
  packRevision: types.optional(types.number()),
  configUpdatedAt: types.optional(types.number()),
});
/** @internal */
export type UpdateFlagSettingsMetadata$Outbound = {
  activeFlagCount: number;
  archivedFlagCount: number;
  segmentCount: number;
  packSizeInBytes: number;
  packRevision?: number | undefined;
  configUpdatedAt?: number | undefined;
};

/** @internal */
export const UpdateFlagSettingsMetadata$outboundSchema: z.ZodType<
  UpdateFlagSettingsMetadata$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsMetadata
> = z.object({
  activeFlagCount: z.number(),
  archivedFlagCount: z.number(),
  segmentCount: z.number(),
  packSizeInBytes: z.number(),
  packRevision: z.number().optional(),
  configUpdatedAt: z.number().optional(),
});

export function updateFlagSettingsMetadataToJSON(
  updateFlagSettingsMetadata: UpdateFlagSettingsMetadata,
): string {
  return JSON.stringify(
    UpdateFlagSettingsMetadata$outboundSchema.parse(updateFlagSettingsMetadata),
  );
}
export function updateFlagSettingsMetadataFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsMetadata, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsMetadata$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsMetadata' from JSON`,
  );
}

/** @internal */
export const UpdateFlagSettingsResponseBody$inboundSchema: z.ZodType<
  UpdateFlagSettingsResponseBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  typeName: UpdateFlagSettingsTypeName$inboundSchema,
  projectId: types.string(),
  ownerId: types.optional(types.string()),
  enabled: types.boolean(),
  environments: z.array(types.string()),
  connections: types.optional(
    z.array(z.lazy(() => UpdateFlagSettingsConnections$inboundSchema)),
  ),
  entities: z.array(
    z.lazy(() => UpdateFlagSettingsFeatureFlagsEntities$inboundSchema),
  ),
  createdAt: types.optional(types.number()),
  updatedAt: types.optional(types.number()),
  metadata: z.lazy(() => UpdateFlagSettingsMetadata$inboundSchema),
});
/** @internal */
export type UpdateFlagSettingsResponseBody$Outbound = {
  typeName: string;
  projectId: string;
  ownerId?: string | undefined;
  enabled: boolean;
  environments: Array<string>;
  connections?: Array<UpdateFlagSettingsConnections$Outbound> | undefined;
  entities: Array<UpdateFlagSettingsFeatureFlagsEntities$Outbound>;
  createdAt?: number | undefined;
  updatedAt?: number | undefined;
  metadata: UpdateFlagSettingsMetadata$Outbound;
};

/** @internal */
export const UpdateFlagSettingsResponseBody$outboundSchema: z.ZodType<
  UpdateFlagSettingsResponseBody$Outbound,
  z.ZodTypeDef,
  UpdateFlagSettingsResponseBody
> = z.object({
  typeName: UpdateFlagSettingsTypeName$outboundSchema,
  projectId: z.string(),
  ownerId: z.string().optional(),
  enabled: z.boolean(),
  environments: z.array(z.string()),
  connections: z.array(
    z.lazy(() => UpdateFlagSettingsConnections$outboundSchema),
  ).optional(),
  entities: z.array(
    z.lazy(() => UpdateFlagSettingsFeatureFlagsEntities$outboundSchema),
  ),
  createdAt: z.number().optional(),
  updatedAt: z.number().optional(),
  metadata: z.lazy(() => UpdateFlagSettingsMetadata$outboundSchema),
});

export function updateFlagSettingsResponseBodyToJSON(
  updateFlagSettingsResponseBody: UpdateFlagSettingsResponseBody,
): string {
  return JSON.stringify(
    UpdateFlagSettingsResponseBody$outboundSchema.parse(
      updateFlagSettingsResponseBody,
    ),
  );
}
export function updateFlagSettingsResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<UpdateFlagSettingsResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => UpdateFlagSettingsResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'UpdateFlagSettingsResponseBody' from JSON`,
  );
}
